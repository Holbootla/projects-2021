(()=>{"use strict";const t=[{category:"Action",image:"images/category/action.jpg",words:[{word:"cry",translation:"плакать",image:"images/cry.jpg"},{word:"dance",translation:"танцевать",image:"images/dance.jpg"},{word:"dive",translation:"нырять",image:"images/dive.jpg"},{word:"draw",translation:"рисовать",image:"images/draw.jpg"},{word:"fish",translation:"ловить рыбу",image:"images/fish.jpg"},{word:"fly",translation:"летать",image:"images/fly.jpg"},{word:"hug",translation:"обнимать",image:"images/hug.jpg"},{word:"jump",translation:"прыгать",image:"images/jump.jpg"},{word:"open",translation:"открывать",image:"images/open.jpg"},{word:"play",translation:"играть",image:"images/play.jpg"},{word:"point",translation:"указывать",image:"images/point.jpg"},{word:"ride",translation:"ездить",image:"images/ride.jpg"},{word:"run",translation:"бегать",image:"images/run.jpg"},{word:"sing",translation:"петь",image:"images/sing.jpg"},{word:"skip",translation:"пропускать, прыгать",image:"images/skip.jpg"},{word:"swim",translation:"плавать",image:"images/swim.jpg"}]},{category:"Animals",image:"images/category/animals.jpg",words:[{word:"cat",translation:"кот",image:"images/cat.jpg"},{word:"chick",translation:"цыплёнок",image:"images/chick.jpg"},{word:"chicken",translation:"курица",image:"images/chicken.jpg"},{word:"dog",translation:"собака",image:"images/dog.jpg"},{word:"horse",translation:"лошадь",image:"images/horse.jpg"},{word:"pig",translation:"свинья",image:"images/pig.jpg"},{word:"rabbit",translation:"кролик",image:"images/rabbit.jpg"},{word:"sheep",translation:"овца",image:"images/sheep.jpg"}]},{category:"Clothes",image:"images/category/clothes.jpg",words:[{word:"skirt",translation:"юбка",image:"images/skirt.jpg"},{word:"pants",translation:"брюки",image:"images/pants.jpg"},{word:"blouse",translation:"блузка",image:"images/blouse.jpg"},{word:"dress",translation:"платье",image:"images/dress.jpg"},{word:"boot",translation:"ботинок",image:"images/boot.jpg"},{word:"shirt",translation:"рубашка",image:"images/shirt.jpg"},{word:"coat",translation:"пальто",image:"images/coat.jpg"},{word:"shoe",translation:"туфли",image:"images/shoe.jpg"}]},{category:"Emotions",image:"images/category/emotions.jpg",words:[{word:"sad",translation:"грустный",image:"images/sad.jpg"},{word:"angry",translation:"сердитый",image:"images/angry.jpg"},{word:"happy",translation:"счастливый",image:"images/happy.jpg"},{word:"tired",translation:"уставший",image:"images/tired.jpg"},{word:"surprised",translation:"удивлённый",image:"images/surprised.jpg"},{word:"scared",translation:"испуганный",image:"images/scared.jpg"},{word:"smile",translation:"улыбка",image:"images/smile.jpg"},{word:"laugh",translation:"смех",image:"images/laugh.jpg"}]},{category:"Food",image:"images/category/food.jpg",words:[{word:"banana",translation:"банан",image:"images/banana.jpg"},{word:"orange",translation:"апельсин",image:"images/orange.jpg"},{word:"apple",translation:"яблоко",image:"images/apple.jpg"},{word:"soup",translation:"суп",image:"images/soup.jpg"},{word:"porridge",translation:"каша",image:"images/porridge.jpg"},{word:"nut",translation:"орех",image:"images/nut.jpg"},{word:"chocolate",translation:"шоколад",image:"images/chocolate.jpg"},{word:"juice",translation:"сок",image:"images/juice.jpg"}]},{category:"Family",image:"images/category/family.jpg",words:[{word:"mother",translation:"мама",image:"images/mother.jpg"},{word:"father",translation:"папа",image:"images/father.jpg"},{word:"son",translation:"сын",image:"images/son.jpg"},{word:"daughter",translation:"дочь",image:"images/daughter.jpg"},{word:"grandmother",translation:"бабушка",image:"images/grandmother.jpg"},{word:"grandfather",translation:"дедушка",image:"images/grandfather.jpg"},{word:"uncle",translation:"дядя",image:"images/uncle.jpg"},{word:"aunt",translation:"тетя",image:"images/aunt.jpg"}]},{category:"Transport",image:"images/category/transport.jpg",words:[{word:"car",translation:"машина",image:"images/car.jpg"},{word:"bicycle",translation:"велосипед",image:"images/bicycle.jpg"},{word:"airplane",translation:"самолет",image:"images/airplane.jpg"},{word:"train",translation:"поезд",image:"images/train.jpg"},{word:"ship",translation:"корабль",image:"images/ship.jpg"},{word:"bike",translation:"мотоцикл",image:"images/bike.jpg"},{word:"bus",translation:"автобус",image:"images/bus.jpg"},{word:"rocket",translation:"ракета",image:"images/rocket.jpg"}]},{category:"Sports",image:"images/category/sports.jpg",words:[{word:"football",translation:"футбол",image:"images/football.jpg"},{word:"basketball",translation:"баскетбол",image:"images/basketball.jpg"},{word:"volleyball",translation:"волейбол",image:"images/volleyball.jpg"},{word:"tennis",translation:"теннис",image:"images/tennis.jpg"},{word:"chess",translation:"шахматы",image:"images/chess.jpg"},{word:"biathlon",translation:"биатлон",image:"images/biathlon.jpg"},{word:"baseball",translation:"бейсбол",image:"images/baseball.jpg"},{word:"rugby",translation:"регби",image:"images/rugby.jpg"}]}];class s{constructor(){var s;this.playMode=!1,this.gameStatus=!1,this.answer=!1,this.wordsCounter=0,this.currentWords=[],this.rightAnswers=0,this.wrongAnswers=0,this.statistics=[],localStorage.getItem("statistics")?this.statistics=JSON.parse(null!==(s=localStorage.getItem("statistics"))&&void 0!==s?s:""):(t.forEach((t=>{t.words.forEach((s=>{this.statistics.push({category:t.category,word:s.word,translation:s.translation,image:s.image,clicks:0,right:0,wrong:0})}))})),localStorage.setItem("statistics",`${JSON.stringify(this.statistics)}`)),this.currentStatistics=[],this.orderType="category",this.order="ASC"}static getInstance(){return s.instance||(s.instance=new s),s.instance}getPlayMode(){return this.playMode}setPlayMode(t){this.playMode=t,this.resetAnswers(),dispatchEvent(new Event("playModeChange",{bubbles:!0}))}getGameStatus(){return this.gameStatus}setGameStatus(t){this.gameStatus=t,this.resetAnswers(),document.dispatchEvent(new Event("gameStatusChange",{bubbles:!0}))}setAnswer(t){this.answer=t,document.dispatchEvent(new CustomEvent("answer",{detail:{answer:t}}))}incWordCounter(){this.wordsCounter+=1}getCurrentWord(){return this.currentWords[this.wordsCounter]}setCurrentWords(t){this.currentWords=t,this.wordsCounter=0}isFinish(){return!(this.currentWords.length>this.wordsCounter)}incRightAnswers(){this.rightAnswers+=1}incWrongAnswers(){this.wrongAnswers+=1}resetAnswers(){this.rightAnswers=0,this.wrongAnswers=0}getRightAnswers(){return this.rightAnswers}getWrongAnswers(){return this.wrongAnswers}getStatisticsList(t="category",s="ASC"){var e;switch(this.orderType=t,this.order=s,this.currentStatistics=JSON.parse(null!==(e=localStorage.getItem("statistics"))&&void 0!==e?e:""),this.orderType){case"category":return this.currentStatistics.sort(((t,s)=>t.category<s.category?"DESC"===this.order?1:-1:t.category>s.category?"DESC"===this.order?-1:1:0));case"word":return this.currentStatistics.sort(((t,s)=>t.word<s.word?"DESC"===this.order?1:-1:t.word>s.word?"DESC"===this.order?-1:1:0));case"clicks":return this.currentStatistics.sort(((t,s)=>"DESC"===this.order?t.clicks-s.clicks:s.clicks-t.clicks));case"right":return this.currentStatistics.sort(((t,s)=>"DESC"===this.order?t.right-s.right:s.right-t.right));case"wrong":return this.currentStatistics.sort(((t,s)=>"DESC"===this.order?t.wrong-s.wrong:s.wrong-t.wrong));case"percent":return this.currentStatistics.sort(((t,s)=>"DESC"===this.order?Math.floor(100*(t.right/(t.right+t.wrong)||0))-Math.floor(100*(s.right/(s.right+s.wrong)||0)):Math.floor(100*(s.right/(s.right+s.wrong)||0))-Math.floor(100*(t.right/(t.right+t.wrong)||0))));default:return this.currentStatistics.sort(((t,s)=>t.category<s.category?"DESC"===this.order?1:-1:t.category>s.category?"DESC"===this.order?-1:1:0))}}setStatisticsList(t,s,e){const i=this.statistics.findIndex((t=>t.category===s&&t.word===e));switch(t){case"clicks":this.statistics[i].clicks+=1;break;case"right":this.statistics[i].right+=1;break;case"wrong":this.statistics[i].wrong+=1}localStorage.setItem("statistics",`${JSON.stringify(this.statistics)}`),document.dispatchEvent(new Event("statisticsUpd"))}getOrder(){return this.order}getOrderType(){return this.orderType}setOrder(t){this.order=t}setOrderType(t){this.orderType=t}clearStatistics(){var s;this.statistics=[],t.forEach((t=>{t.words.forEach((s=>{this.statistics.push({category:t.category,word:s.word,translation:s.translation,image:s.image,clicks:0,right:0,wrong:0})}))})),localStorage.clear(),localStorage.setItem("statistics",`${JSON.stringify(this.statistics)}`),this.statistics=JSON.parse(null!==(s=localStorage.getItem("statistics"))&&void 0!==s?s:"")}}class e{constructor(){this.state=s.getInstance(),this.switcher=document.createElement("div"),this.switcher.classList.add("game-mode-button"),this.switcher.innerHTML='\n      <div class="game-mode-button-switcher"></div>\n      <div class="game-mode-button-text"></div>\n    '}getSwitcher(){const t="PLAY",s=this.switcher.querySelector(".game-mode-button-switcher"),e=this.switcher.querySelector(".game-mode-button-text");return e&&(e.innerHTML=t),this.switcher.addEventListener("click",(()=>{this.switcher.classList.toggle("game-mode-button-on"),null==s||s.classList.toggle("game-mode-button-switcher-on"),null==e||e.classList.toggle("game-mode-button-text-on"),e&&this.switcher.classList.contains("game-mode-button-on")?(e.innerHTML="TRAIN",this.state.setPlayMode(!0)):e&&(e.innerHTML=t,this.state.setPlayMode(!1)),this.state.setGameStatus(!1)})),this.switcher}}class i{constructor(){this.headerContainer=document.createElement("div"),this.headerContainer.classList.add("header-container"),this.switcher=new e,this.headerContainer.insertAdjacentHTML("beforeend",'\n    <div class="hamburger-menu-button">\n      <div class="hamburger-menu-button-line-1"></div>\n      <div class="hamburger-menu-button-line-2"></div>\n      <div class="hamburger-menu-button-line-3"></div>\n    </div>\n    '),this.headerContainer.insertAdjacentElement("beforeend",this.switcher.getSwitcher())}getHeaderContainer(){return this.headerContainer}}class a{constructor(t){this.category=t}getNavigationListItem(){const t=document.createElement("li");t.classList.add("navigation-item"),t.innerText=this.category,t.addEventListener("click",(()=>{"Statistics"===this.category?window.location.hash="statistics":"Main page"===this.category?window.location.hash="":window.location.hash=this.category.toLowerCase()}));const s=window.location.hash.slice(1).toLowerCase();return s===this.category.toLowerCase()||""===s&&"Main page"===this.category?t.className="navigation-item-current":t.className="navigation-item",window.addEventListener("hashchange",(()=>{const s=window.location.hash.slice(1).toLowerCase();s===this.category.toLowerCase()||""===s&&"Main page"===this.category?t.className="navigation-item-current":t.className="navigation-item"})),t}}class r{constructor(){this.navigationList=document.createElement("ul"),this.navigationList.classList.add("navigation-list"),this.navigationList.appendChild(new a("Statistics").getNavigationListItem()),this.navigationList.appendChild(new a("Main page").getNavigationListItem()),this.listItems=t.map((t=>t.category)),this.listItems.forEach((t=>{this.navigationList.appendChild(new a(t).getNavigationListItem())}))}getNavigationList(){return this.navigationList}refreshListItems(){this.listItems=t.map((t=>t.category))}}class n{constructor(){this.hamburger=document.createElement("aside"),this.hamburger.classList.add("hamburger-menu"),this.navigationList=new r,this.hamburger.appendChild(this.navigationList.getNavigationList())}getNavigation(){return this.hamburger}}class o{constructor(){this.header=document.createElement("header"),this.hamburger=new n,this.headerContainer=new i,this.blackout=document.createElement("div"),this.blackout.classList.add("blackout"),this.header.appendChild(this.hamburger.getNavigation()),this.header.appendChild(this.headerContainer.getHeaderContainer()),this.header.appendChild(this.blackout);const t=this.header.querySelector(".hamburger-menu-button");null==t||t.addEventListener("click",(()=>{const s=this.header.querySelector(".blackout"),e=this.header.querySelector(".hamburger-menu");null==e||e.classList.toggle("hamburger-menu-opened"),null==t||t.classList.toggle("hamburger-menu-button-close"),null==s||s.classList.toggle("blackout-on"),document.body.classList.toggle("no-scroll");const i=()=>{null==e||e.classList.remove("hamburger-menu-opened"),t.classList.remove("hamburger-menu-button-close"),null==s||s.classList.remove("blackout-on"),document.body.classList.remove("no-scroll")};null==s||s.addEventListener("click",(()=>{i()})),window.addEventListener("hashchange",(()=>{i()}))}))}getHeader(){return this.header}}class d{constructor(){this.state=s.getInstance(),this.stars=document.createElement("div"),this.stars.classList.add("stars"),this.stars.classList.add("display-none"),this.MAX_STARS_TO_SHOW=8,this.starsArray=[],this.stars.innerHTML=""}getStars(){const t=window.location.hash.slice(1).toLowerCase();return t&&this.state.getPlayMode()&&"statistics"!==t&&"repeat"!==t?this.state.getPlayMode()&&this.addVisibility():this.removeVisibility(),this.stars}removeVisibility(){this.stars.classList.add("display-none")}addVisibility(){this.stars.classList.remove("display-none")}addStar(t){t?(this.starsArray.push("&#9733"),this.starsArray.length>this.MAX_STARS_TO_SHOW&&this.starsArray.shift()):(this.starsArray.push("&#9734"),this.starsArray.length>this.MAX_STARS_TO_SHOW&&this.starsArray.shift()),this.stars.innerHTML=`${this.starsArray.join("")}`}refreshStars(){this.starsArray=[],this.stars.innerHTML=""}}class c{constructor(t,e,i,a){this.state=s.getInstance(),this.stars=new d,this.card=document.createElement("div"),this.card.classList.add("card-word"),this.category=t,this.word=e,this.image=i,this.translation=a}getCard(){const t=this.state.getPlayMode();this.card.innerHTML=`\n    <div class="card-word-inner">\n      <div class="card-word-front" style="background-image: url(${this.image})">\n        <div class="card-word-title ${t?"z-index-1":""}">${this.word}</div>\n        <div class="card-word-flip-icon ${t?"display-none":""}"></div>\n      </div>\n      <div class="card-word-back" style="background-image: url(${this.image})">\n        <div class="card-word-title">${this.translation}</div>\n      </div>\n    </div>\n  `;const s=this.card.querySelector(".card-word-flip-icon");return null==s||s.addEventListener("click",(t=>{var s;null===(s=this.card.querySelector(".card-word-inner"))||void 0===s||s.classList.add("card-word-flip"),this.card.classList.add("flipped"),this.card.addEventListener("mouseleave",(()=>{var t;null===(t=this.card.querySelector(".card-word-inner"))||void 0===t||t.classList.remove("card-word-flip"),this.card.classList.remove("flipped")})),t.stopPropagation()})),this.card.addEventListener("click",(()=>{!1===this.state.getGameStatus()?this.card.classList.contains("flipped")||(this.playAudio(),this.state.setStatisticsList("clicks",this.category,this.word)):this.chooseCard()})),this.card}playAudio(){const t=new Audio;t.src=`https://wooordhunt.ru/data/sound/sow/us/${this.word}.mp3`,t.autoplay=!0}chooseCard(){this.word===this.state.getCurrentWord()?(this.state.setAnswer(!0),this.state.incRightAnswers(),this.card.innerHTML=`\n        <div class="card-word-inner">\n          <div class="card-word-front" style="background-image: url(${this.image})">\n            <div class="card-word-title">${this.word}</div>\n          </div>\n        </div>\n      `,this.card.classList.add("disabled"),this.state.setStatisticsList("right",this.category,this.word)):(this.state.setAnswer(!1),this.state.incWrongAnswers(),this.state.setStatisticsList("wrong",this.category,this.word))}}class h{constructor(){var t,e,i,a,r,n;this.HUNDRED_PERCENT=100,this.state=s.getInstance(),this.tableContainer=document.createElement("div"),this.tableContainer.classList.add("statistics-container"),this.table=document.createElement("table"),this.table.classList.add("statistics"),this.thead=document.createElement("thead"),this.thead.innerHTML='\n      <tr>\n        <td id="categoryBtn" class="btn-table">Category ↓</td>\n        <td id="wordBtn" class="btn-table">Word</td>\n        <td>Translation</td>\n        <td id="clicksBtn" class="btn-table">Clicks</td>\n        <td id="rightBtn" class="btn-table">Right answers</td>\n        <td id="wrongBtn" class="btn-table">Wrong answers</td>\n        <td id="percentBtn" class="btn-table">% of right answers</td>\n      </tr>\n    ',this.tbody=document.createElement("tbody"),this.table.appendChild(this.thead),this.table.appendChild(this.tbody),this.tableContainer.appendChild(this.table),document.addEventListener("statisticsUpd",(()=>{this.getStatistics()})),this.categoryBtn=this.thead.querySelector("#categoryBtn"),this.wordBtn=this.thead.querySelector("#wordBtn"),this.clicksBtn=this.thead.querySelector("#clicksBtn"),this.rightBtn=this.thead.querySelector("#rightBtn"),this.wrongBtn=this.thead.querySelector("#wrongBtn"),this.percentBtn=this.thead.querySelector("#percentBtn");const o=t=>{this.state.getOrderType()!==t?(this.state.setOrderType(t),this.getStatistics()):this.state.getOrderType()===t&&("ASC"===this.state.getOrder()?(this.state.setOrder("DESC"),this.getStatistics()):(this.state.setOrder("ASC"),this.getStatistics()))};null===(t=this.categoryBtn)||void 0===t||t.addEventListener("click",(()=>{o("category")})),null===(e=this.wordBtn)||void 0===e||e.addEventListener("click",(()=>{o("word")})),null===(i=this.clicksBtn)||void 0===i||i.addEventListener("click",(()=>{o("clicks")})),null===(a=this.rightBtn)||void 0===a||a.addEventListener("click",(()=>{o("right")})),null===(r=this.wrongBtn)||void 0===r||r.addEventListener("click",(()=>{o("wrong")})),null===(n=this.percentBtn)||void 0===n||n.addEventListener("click",(()=>{o("percent")}))}getStatistics(){const t=this.state.getOrder(),s=this.state.getOrderType(),e="ASC"===t?" &#8595;":" &#8593;";return this.categoryBtn&&(this.categoryBtn.innerHTML=`Category${"category"===s?e:""}`),this.wordBtn&&(this.wordBtn.innerHTML=`Word${"word"===s?e:""}`),this.clicksBtn&&(this.clicksBtn.innerHTML=`Clicks${"clicks"===s?e:""}`),this.rightBtn&&(this.rightBtn.innerHTML=`Right answers${"right"===s?e:""}`),this.wrongBtn&&(this.wrongBtn.innerHTML=`Wrong answers${"wrong"===s?e:""}`),this.percentBtn&&(this.percentBtn.innerHTML=`% of right answers${"percent"===s?e:""}`),this.tbody.innerHTML="",this.state.getStatisticsList(s,t).forEach((t=>{this.tbody.insertAdjacentHTML("beforeend",`\n        <tr>\n          <td>${t.category}</td>\n          <td>${t.word}</td>\n          <td>${t.translation}</td>\n          <td>${t.clicks}</td>\n          <td>${t.right}</td>\n          <td>${t.wrong}</td>\n          <td>${Math.floor(t.right/(t.right+t.wrong)*this.HUNDRED_PERCENT)||0}</td>\n        </tr>\n      `)})),this.tableContainer}}class g{constructor(){this.state=s.getInstance(),this.button=document.createElement("div"),this.button.classList.add("start-game-button"),this.button.classList.add("display-none"),this.button.innerText="Start game",this.button.addEventListener("click",(()=>{if(!1===this.state.getGameStatus())this.state.setGameStatus(!0);else{const t=new Audio;t.src=`https://wooordhunt.ru/data/sound/sow/us/${this.state.getCurrentWord()}.mp3`,t.autoplay=!0}})),document.addEventListener("gameStatusChange",(()=>{this.state.getGameStatus()?(this.button.classList.add("repeat-button"),this.button.innerText="Repeat"):(this.button.classList.remove("repeat-button"),this.button.innerText="Start game")}))}getButton(){const t=window.location.hash.slice(1).toLowerCase();return t&&this.state.getPlayMode()&&"statistics"!==t&&"repeat"!==t?this.state.getPlayMode()&&this.addVisibility():this.removeVisibility(),this.button}removeVisibility(){this.button.classList.add("display-none")}addVisibility(){this.button.classList.remove("display-none")}}class l{constructor(){this.state=s.getInstance(),this.statistics=new h,this.page=document.createElement("div"),this.page.classList.add("page"),this.pageTitle=document.createElement("div"),this.pageTitle.classList.add("theme-title"),this.cards=document.createElement("div"),this.cards.classList.add("cards-container"),this.startButton=new g,this.repeatDifficultWordsButton=document.createElement("div"),this.repeatDifficultWordsButton.classList.add("start-game-button"),this.repeatDifficultWordsButton.innerText="REPEAT!",this.repeatDifficultWordsButton.addEventListener("click",(()=>{window.location.hash="repeat"})),this.resetStatistics=document.createElement("div"),this.resetStatistics.classList.add("start-game-button"),this.resetStatistics.innerText="Reset",this.resetStatistics.addEventListener("click",(()=>{this.state.clearStatistics(),window.dispatchEvent(new Event("hashchange"))}))}getCards(){const t=window.location.hash.slice(1).toLowerCase();return"statistics"===t?this.getStatistics():"repeat"===t?this.getDifficultWordCards():""===t?this.getCategoryCards():this.getWordCards(),this.page.appendChild(this.pageTitle),this.page.appendChild(this.cards),this.page.appendChild(this.startButton.getButton()),this.page}getCategoryCards(){this.cards.innerHTML="",this.pageTitle.innerText="",t.forEach((t=>{const s=document.createElement("div");s.classList.add("card-theme"),s.style.backgroundImage=`url(${t.image})`,s.style.backgroundSize="cover",s.innerHTML=`\n      <div class="card-theme-title">${t.category}</div>\n      `,s.addEventListener("click",(()=>{window.location.hash=t.category})),this.cards.appendChild(s)}))}getWordCards(){this.cards.innerHTML="";const s=t.findIndex((t=>t.category.toLowerCase()===window.location.hash.slice(1).toLowerCase()));this.pageTitle.innerText=`- ${t[s].category} -`,t[s].words.forEach((e=>{this.cards.appendChild(new c(t[s].category,e.word,e.image,e.translation).getCard())}))}getStatistics(){this.pageTitle.innerText="- Statistics -",this.cards.innerHTML="",this.cards.appendChild(this.statistics.getStatistics()),this.cards.appendChild(this.repeatDifficultWordsButton),this.cards.appendChild(this.resetStatistics)}getDifficultWordCards(){var t;this.cards.innerHTML="";const s=JSON.parse(null!==(t=localStorage.getItem("statistics"))&&void 0!==t?t:"");if(Array.isArray(s)){const t=s.filter((t=>t.wrong>0)).sort(((t,s)=>s.wrong-t.wrong)),e=t.length>8?8:t.length;for(let s=0;s<=e-1;s+=1)this.cards.appendChild(new c(t[s].category,t[s].word,t[s].image,t[s].translation).getCard());t.length?this.pageTitle.innerText="- Repeat difficult words -":this.pageTitle.innerText="- There is no difficult words for you -"}}}class m{constructor(){this.state=s.getInstance(),this.main=document.createElement("main"),this.stars=new d,this.cards=new l,this.main.appendChild(this.stars.getStars()),document.addEventListener("answer",(t=>{this.stars.addStar(t.detail.answer)})),this.main.appendChild(this.cards.getCards())}getMain(){return window.addEventListener("hashchange",(()=>{this.refreshMain(),this.state.setGameStatus(!1),this.state.resetAnswers(),this.stars.refreshStars()})),window.addEventListener("playModeChange",(()=>{this.refreshMain(),this.stars.refreshStars()})),this.main}refreshMain(){this.main.removeChild(this.stars.getStars()),this.main.removeChild(this.cards.getCards()),this.main.appendChild(this.stars.getStars()),this.main.appendChild(this.cards.getCards()),this.cards.getCards()}}class u{constructor(){this.footer=document.createElement("footer"),this.footer.innerHTML='\n      <a class="github" href="https://github.com/Holbootla" target="blank"><img src="GitHubLogo.png" alt="GitHub logo"></a>\n      <div class="year">\n        2021\n      </div>\n      <a class="rsschool" href="https://rs.school/js/" target="blank"><img src="RSSchoolLogo.png" alt="RSSchool logo"></a>\n    '}getFooter(){return this.footer}}(new class{constructor(){this.state=s.getInstance(),this.header=new o,this.main=new m,this.footer=new u,document.addEventListener("restart",(()=>{this.refresh(),this.state.resetAnswers()}))}render(){document.body.appendChild(this.header.getHeader()),document.body.appendChild(this.main.getMain()),document.body.appendChild(this.footer.getFooter()),function(){const e=s.getInstance();function i(t){const s=new Audio;s.src=t,s.autoplay=!0}document.addEventListener("gameStatusChange",(()=>{if(e.getGameStatus()){const s=window.location.hash.slice(1).toLowerCase(),a=t.find((t=>t.category.toLowerCase()===s)),r=null==a?void 0:a.words.map((t=>t.word)).sort((()=>Math.random()-.5));e.setCurrentWords(null!=r?r:[]),i(`https://wooordhunt.ru/data/sound/sow/us/${e.getCurrentWord()}.mp3`)}})),document.addEventListener("answer",(t=>{t.detail.answer?(e.incWordCounter(),i("audio/correct.mp3"),e.isFinish()?function(){const t=e.getWrongAnswers(),s=0===t?"Good":"Bad",a=0===t?"green-smile":"red-smile";setTimeout((()=>{i("Good"===s?"Success":"Failure")}),2e3),document.body.insertAdjacentHTML("beforeend",`\n    <div class="white-back">\n      <div class="result-container">\n        <div class="result-title">${s} job!</div>\n        <div class="results">\n        Mistakes: ${t}\n        </div>\n        <img class="smile" src="images/${a}.svg">\n      </div>\n    </div>\n    `),setTimeout((()=>{window.location.hash="",document.dispatchEvent(new Event("restart"))}),5e3)}():setTimeout((()=>{i(`https://wooordhunt.ru/data/sound/sow/us/${e.getCurrentWord()}.mp3`)}),1e3)):i("audio/error.mp3")}))}()}refresh(){document.body.removeChild(this.header.getHeader()),document.body.removeChild(this.main.getMain()),document.body.removeChild(this.footer.getFooter()),document.body.innerHTML="",document.body.appendChild(this.header.getHeader()),document.body.appendChild(this.main.getMain()),document.body.appendChild(this.footer.getFooter())}}).render()})();